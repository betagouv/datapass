{"version":3,"file":"header.nomodule.min.js","sources":["../../../.config/config.js","../../../src/core/api.js","../../../src/component/header/script/header/header-selector.js","../../../src/component/header/script/header/header-links.js","../../../src/component/header/script/header/header-modal.js","../../../src/component/header/index.js","../../../src/component/header/main.js"],"sourcesContent":["const config = {\r\n  prefix: 'fr',\r\n  namespace: 'dsfr',\r\n  organisation: '@gouvfr',\r\n  version: '1.2.1'\r\n};\r\n\r\nexport default config;\r\n","import config from './config.js';\nconst api = window[config.namespace];\nexport default api;\n","import api from '../../api.js';\n\nexport const HeaderSelector = {\n  HEADER: api.ns.selector('header'),\n  TOOLS_LINKS: api.ns.selector('header__tools-links'),\n  MENU_LINKS: api.ns.selector('header__menu-links'),\n  LINKS: `${api.ns.selector('header__tools-links')} ${api.ns.selector('links-group')}`,\n  MODALS: `${api.ns.selector('header__search')}${api.ns.selector('modal')}, ${api.ns.selector('header__menu')}${api.ns.selector('modal')}`\n};\n","import api from '../../api.js';\nimport { HeaderSelector } from './header-selector.js';\n\nclass HeaderLinks extends api.core.Instance {\n  static get instanceClassName () {\n    return 'HeaderLinks';\n  }\n\n  init () {\n    const header = this.queryParentSelector(HeaderSelector.HEADER);\n    this.toolsLinks = header.querySelector(HeaderSelector.TOOLS_LINKS);\n    this.menuLinks = header.querySelector(HeaderSelector.MENU_LINKS);\n\n    const toolsHtml = this.toolsLinks.innerHTML.replace(/  +/g, ' ');\n    const menuHtml = this.menuLinks.innerHTML.replace(/  +/g, ' ');\n\n    if (toolsHtml === menuHtml) return;\n\n    switch (api.mode) {\n      case api.Modes.ANGULAR:\n      case api.Modes.REACT:\n      case api.Modes.VUE:\n        api.inspector.warn(`header__tools-links content is different from header__menu-links content.\nAs you're using a dynamic framework, you should handle duplication of this content yourself, please refer to documentation: \n${api.header.doc}`);\n        break;\n\n      default:\n        this.menuLinks.innerHTML = this.toolsLinks.innerHTML;\n    }\n  }\n}\n\nexport { HeaderLinks };\n","import api from '../../api.js';\n\nclass HeaderModal extends api.core.Instance {\n  static get instanceClassName () {\n    return 'HeaderModal';\n  }\n\n  init () {\n    this.isResizing = true;\n  }\n\n  resize () {\n    if (this.isBreakpoint(api.core.Breakpoints.LG)) this.unqualify();\n    else this.qualify();\n  }\n\n  qualify () {\n    this.setAttribute('role', 'dialog');\n    const modal = this.element.getInstance('Modal');\n    if (!modal) return;\n    const buttons = modal.buttons;\n    let id = '';\n    for (const button of buttons) {\n      id = button.id || id;\n      if (button.isPrimary && id) break;\n    }\n    this.setAttribute('aria-labelledby', id);\n  }\n\n  unqualify () {\n    const modal = this.element.getInstance('Modal');\n    if (modal) modal.conceal();\n    this.removeAttribute('role');\n    this.removeAttribute('aria-labelledby');\n  }\n}\n\nexport { HeaderModal };\n","import api from './api.js';\nimport { HeaderLinks } from './script/header/header-links.js';\nimport { HeaderModal } from './script/header/header-modal.js';\nimport { HeaderSelector } from './script/header/header-selector.js';\n\napi.header = {\n  HeaderLinks: HeaderLinks,\n  HeaderModal: HeaderModal,\n  HeaderSelector: HeaderSelector,\n  doc: 'https://gouvfr.atlassian.net/wiki/spaces/DB/pages/222789846/En-t+te+-+Header'\n};\n\nexport default api;\n","import api from './index.js';\n\napi.register(api.header.HeaderSelector.LINKS, api.header.HeaderLinks);\napi.register(api.header.HeaderSelector.MODALS, api.header.HeaderModal);\n\nexport default api;\n"],"names":["const","api","window","HeaderSelector","HEADER","ns","selector","TOOLS_LINKS","MENU_LINKS","LINKS","MODALS","HeaderLinks","staticAccessors","instanceClassName","init","header","this","queryParentSelector","toolsLinks","querySelector","menuLinks","innerHTML","replace","mode","Modes","ANGULAR","REACT","VUE","inspector","warn","core","Instance","HeaderModal","isResizing","resize","isBreakpoint","Breakpoints","LG","unqualify","qualify","setAttribute","modal","element","getInstance","id","buttons","button","isPrimary","conceal","removeAttribute","doc","register"],"mappings":";yBAAAA,ICCMC,EAAMC,OAAuB,KCCtBC,EAAiB,CAC5BC,OAAQH,EAAII,GAAGC,SAAS,UACxBC,YAAaN,EAAII,GAAGC,SAAS,uBAC7BE,WAAYP,EAAII,GAAGC,SAAS,sBAC5BG,MAAUR,EAAII,GAAGC,SAAS,2BAA0BL,EAAII,GAAGC,SAAS,eACpEI,UAAWT,EAAII,GAAGC,SAAS,kBAAoBL,EAAII,GAAGC,SAAS,cAAaL,EAAII,GAAGC,SAAS,gBAAkBL,EAAII,GAAGC,SAAS,UCJ1HK,6LACJC,EAAWC,iCACT,MAAO,2BAGTC,gBACEd,IAAMe,EAASC,KAAKC,oBAAoBd,EAAeC,QAOvD,GANAY,KAAKE,WAAaH,EAAOI,cAAchB,EAAeI,aACtDS,KAAKI,UAAYL,EAAOI,cAAchB,EAAeK,YAEnCQ,KAAKE,WAAWG,UAAUC,QAAQ,OAAQ,OAC3CN,KAAKI,UAAUC,UAAUC,QAAQ,OAAQ,KAI1D,OAAQrB,EAAIsB,MACV,KAAKtB,EAAIuB,MAAMC,QACf,KAAKxB,EAAIuB,MAAME,MACf,KAAKzB,EAAIuB,MAAMG,IACb1B,EAAI2B,UAAUC,iNAEpB5B,EAAIc,YACE,MAEF,QACEC,KAAKI,UAAUC,UAAYL,KAAKE,WAAWG,4CAzBzBpB,EAAI6B,KAAKC,UCD7BC,6LACJpB,EAAWC,iCACT,MAAO,2BAGTC,gBACEE,KAAKiB,YAAa,eAGpBC,kBACMlB,KAAKmB,aAAalC,EAAI6B,KAAKM,YAAYC,IAAKrB,KAAKsB,YAChDtB,KAAKuB,uBAGZA,mBACEvB,KAAKwB,aAAa,OAAQ,UAC1BxC,IAAMyC,EAAQzB,KAAK0B,QAAQC,YAAY,SACvC,GAAKF,EAAL,CAGA,IAFAzC,IACI4C,EAAK,SADOH,EAAMI,wBAEQ,CAAzB7C,IAAM8C,OAET,GADAF,EAAKE,EAAOF,IAAMA,EACdE,EAAOC,WAAaH,EAAI,MAE9B5B,KAAKwB,aAAa,kBAAmBI,iBAGvCN,qBACEtC,IAAMyC,EAAQzB,KAAK0B,QAAQC,YAAY,SACnCF,GAAOA,EAAMO,UACjBhC,KAAKiC,gBAAgB,QACrBjC,KAAKiC,gBAAgB,oDA/BChD,EAAI6B,KAAKC,UCGnC9B,EAAIc,OAAS,CACXJ,YAAaA,EACbqB,YAAaA,EACb7B,eAAgBA,EAChB+C,IAAK,gFCPPjD,EAAIkD,SAASlD,EAAIc,OAAOZ,eAAeM,MAAOR,EAAIc,OAAOJ,aACzDV,EAAIkD,SAASlD,EAAIc,OAAOZ,eAAeO,OAAQT,EAAIc,OAAOiB"}